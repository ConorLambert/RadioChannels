@model IEnumerable<RadioChannels.Models.Channel>
@{
    if (Model != null)
    {
        for (int i = 0; i < Model.Count(); ++i)
        {
            if (Model.ElementAt(i).CurrentTrack == null)
            {
                Model.ElementAt(i).CurrentTrack = "UNKNOWN";
            }
            
            <div id="@i" class="row">
                <span id="@Model.ElementAt(i).Id" class="channel-id"></span>
                <span class="genre hidden">@Model.ElementAt(i).Genre</span>
                <div class="col-xs-12 hidden-sm hidden-md hidden-lg">
                    <div class="image">
                        <span class="activity" onclick='tunein(@Html.Raw(Json.Encode(Model.ElementAt(i))), this)'></span>
                        <span class="fav-btn" onclick='toggleFavourite(@Html.Raw(Json.Encode(Model.ElementAt(i))), this)'></span>
                    </div>
                    <div class="info-container">
                        <div class="info">
                            <h3 class="title transitionable"><a>@Model.ElementAt(i).Name</a></h3>
                            <p class="now-playing">
                                <span class="refresh-button" onclick="refreshInfo(this)"></span>
                                <span class="label">now playing</span>
                                <a class="track transitionable" href="insert/beatport/here">@Model.ElementAt(i).CurrentTrack</a>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 hidden-xs">
                    <div class="image">
                        <span class="activity" onclick='tunein(@Html.Raw(Json.Encode(Model.ElementAt(i))), this)'></span>
                        <span class="fav-btn" onclick='toggleFavourite(@Html.Raw(Json.Encode(Model.ElementAt(i))), this)'></span>
                    </div>                  
                </div>
                <div class="col-sm-10 hidden-xs">
                    <div class="info-container">
                        <div class="info">
                            <h3 class="title transitionable"><a>@Model.ElementAt(i).Name</a></h3>
                            <p class="now-playing">
                                <span class="refresh-button" onclick="refreshInfo(this)"></span>
                                <span class="label">now playing</span>
                                <a class="track transitionable" href="insert/beatport/here">@Model.ElementAt(i).CurrentTrack</a>
                            </p>
                        </div>
                    </div>
                </div>                
            </div>
            
        }
    }
}